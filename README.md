
## Хотите настроить кросспостинг между вашими каналами в Telegram и Max? Используйте [MAXGATE.IO](https://maxgate.io/) - новый бесплатный сервис. 
#
---
---
---
# MaxAutopost

MaxAutopost — это бесплатный открытый Python-бот, который автоматически пересылает сообщения из открытого или приватного Telegram-канала в канал мессенджера MAX. Идеально подходит для автоматизации новостных, корпоративных и любых других каналов, поддерживает пересылку текста, картинок и альбомов фото.

Бот уже используется для кросспостинга в реальном канале:
[Telegram](https://t.me/gleb_vedaet) -> [MAX](https://max.ru/id010106642036_biz)

### Ключевые особенности
*   Автоматизированная пересылка сообщений из Telegram в MAX
*   Поддержка текста, одиночных изображений и медиа-альбомов
*   Высокое качество изображений (выбор лучшего варианта)
*   Интуитивно понятная настройка через .env-файл
*   Полностью на Python, легко интегрируется в любой проект

### Сценарии использования
*   Кросспостинг новостей, мемов, корпоративной информации в разные мессенджеры
*   Мониторинг и ретрансляция Telegram-каналов
*   Автоматизация контент-маркетинга

## Требования
*   Python 3.8+
*   Аккаунт бота в Telegram
*   Аккаунт бота в MAX

## Установка

1.  Клонируйте репозиторий:
    ```bash
    git clone <url-репозитория>
    cd MaxAutopost
    ```

2.  Создайте и активируйте виртуальное окружение (рекомендуется):
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # Linux/macOS
    source venv/bin/activate
    ```

3.  Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

## Настройка

Создайте файл `.env` в корне проекта и заполните его следующими данными:

```env
MAX_BOT_TOKEN=ваш_токен_max_бота
MAX_CHANNEL_ID=id_канала_max
TELEGRAM_BOT_TOKEN=ваш_токен_telegram_бота
TG_CHANNEL_ID=id_канала_telegram
```

*   `MAX_BOT_TOKEN`: Токен вашего бота в MAX.
*   `MAX_CHANNEL_ID`: ID канала в MAX, куда будут пересылаться сообщения.
*   `TELEGRAM_BOT_TOKEN`: Токен вашего бота в Telegram.
*   `TG_CHANNEL_ID`: ID канала в Telegram, откуда будут браться посты (бот должен быть администратором канала).

## Запуск

Запустите бота командой:

```bash
python main.py
```

## Запуск с Docker

### Предварительные требования

*   Docker
*   Docker Compose

### Сборка и запуск

1.  Убедитесь, что файл `.env` создан и заполнен (см. раздел "Настройка").

2.  Соберите и запустите контейнер:
    ```bash
    docker-compose up -d
    ```

    Флаг `-d` запускает контейнер в фоновом режиме.

### Просмотр логов

Для просмотра логов работы бота:
```bash
docker-compose logs -f
```

Флаг `-f` включает режим "следования" за логами в реальном времени.

### Остановка бота

Для остановки контейнера:
```bash
docker-compose down
```

### Обновление после изменения кода

После изменения кода необходимо пересобрать образ:
```bash
docker-compose up -d --build
```

> **Примечание**: Изменения в файле `.env` применяются автоматически при перезапуске контейнера, пересборка образа не требуется.
